<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>2</title>
</head>
<body>
<script>
    function pickWord() {
        var someWordsArray = ["cat", "horse", "rabbit"];
        return word = someWordsArray[Math.floor(Math.random()*someWordsArray.length)];
    }
    var word = pickWord().split('');
    console.log(word);

    function setupAnswerArray(word) {
        var wordArray =[];
        for (var i = 0; i<word.length; i++){
            wordArray[i] = "_";
        }
        return wordArray;
    }

    var answerArray = setupAnswerArray(word);
    console.log(answerArray);

    function showPlayerProgress(answerArray) {
        alert(answerArray.join(" "));
    }
    function getGuess() {
        return prompt("Vvedi bukvu");
    }

    function updateGameState(guess, word, answerArray) {
        var lettersCount = 0;
        for (var i=0; i<answerArray.length; i++){
            if (guess === word[i]){
                answerArray[i] = guess;
                lettersCount ++;
            }
        }
        return [lettersCount, answerArray]; //тут, как я понял, должно возвращаться значение угаданных букв и исправленный массив

    }
    function showAnswerAndCongratulatePlayer() {
        alert(answerArray + "Congratulations!");
    }

    var remainingLetter = word.length;
    console.log(remainingLetter, getGuess());

    while (remainingLetter > 0){
        showPlayerProgress(answerArray);
        var guess = getGuess();
        if(guess === null){
            break;
        }
        else if (guess.length !== 1){
            alert("enter ONE letter!");
        }
        else{
            var correctGuesses = updateGameState(guess, word, answerArray);
            remainingLetter = remainingLetter - correctGuesses[0];
        }
    }
    showAnswerAndCongratulatePlayer();
    console.log(remainingLetter);
</script>
</body>
</html>